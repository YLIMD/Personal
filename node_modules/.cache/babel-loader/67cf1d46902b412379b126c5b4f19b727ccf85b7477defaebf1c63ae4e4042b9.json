{"ast":null,"code":"import _slicedToArray from\"C:/AFront/Js/Portfolio/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect}from'react';import{useLocalStorage}from\"./../Utils/useLocalStorage\";import detectDarkMode from'./../Utils/detectDarkMode';import sun from'./../img/icons/sun.svg';import moon from'./../img/icons/moon.svg';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var BtnDarkMode=function BtnDarkMode(props){var _useLocalStorage=useLocalStorage('darkMode',detectDarkMode()),_useLocalStorage2=_slicedToArray(_useLocalStorage,2),darkMode=_useLocalStorage2[0],setDarkMode=_useLocalStorage2[1];// If\nuseEffect(function(){if(darkMode==='dark'){document.body.classList.add('dark');}else{document.body.classList.remove('dark');}},[darkMode]);var toggleDarkMode=function toggleDarkMode(){setDarkMode(function(currentValue){return currentValue==='light'?'dark':'light';});};var btnNormal='dark-mode-btn';var btnActive='dark-mode-btn dark-mode-btn--active';// If system preferences change, useEffect will change darkMode to new\nuseEffect(function(){window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change',function(event){var newColorScheme=event.matches?'dark':'light';setDarkMode(newColorScheme);});},[setDarkMode]);return/*#__PURE__*/_jsxs(\"button\",{className:darkMode==='dark'?btnActive:btnNormal,onClick:toggleDarkMode,children:[/*#__PURE__*/_jsx(\"img\",{src:sun,alt:\"Light mode\",className:\"dark-mode-btn__icon\"}),/*#__PURE__*/_jsx(\"img\",{src:moon,alt:\"Dark mode\",className:\"dark-mode-btn__icon\"})]});};export default BtnDarkMode;","map":{"version":3,"names":["useEffect","useLocalStorage","detectDarkMode","sun","moon","jsx","_jsx","jsxs","_jsxs","BtnDarkMode","props","_useLocalStorage","_useLocalStorage2","_slicedToArray","darkMode","setDarkMode","document","body","classList","add","remove","toggleDarkMode","currentValue","btnNormal","btnActive","window","matchMedia","addEventListener","event","newColorScheme","matches","className","onClick","children","src","alt"],"sources":["C:/AFront/Js/Portfolio/src/Components/BtnDarkMode.js"],"sourcesContent":["import { useEffect } from 'react';\r\nimport {useLocalStorage} from \"./../Utils/useLocalStorage\"\r\nimport detectDarkMode from './../Utils/detectDarkMode';\r\n\r\nimport sun from './../img/icons/sun.svg';\r\nimport moon from './../img/icons/moon.svg';\r\n\r\nconst BtnDarkMode = (props) => {\r\n    const [darkMode, setDarkMode] = useLocalStorage('darkMode', detectDarkMode());\r\n\r\n\t// If\r\n    useEffect(() => {\r\n        if (darkMode === 'dark') {\r\n\t\t\tdocument.body.classList.add('dark');\r\n\t\t} else {\r\n\t\t\tdocument.body.classList.remove('dark');\r\n\t\t}\r\n\t}, [darkMode]);\r\n\r\n\r\n\tconst toggleDarkMode = () => {\r\n\t\tsetDarkMode((currentValue) => {\r\n\t\t\t\r\n\t\t\treturn currentValue === 'light' ? 'dark' : 'light';\r\n\t\t\t\r\n\t\t});\r\n\t};\r\n\r\n    const btnNormal = 'dark-mode-btn';\r\n    const btnActive = 'dark-mode-btn dark-mode-btn--active';\r\n\r\n\t// If system preferences change, useEffect will change darkMode to new\r\n\tuseEffect(() => {\r\n\t\twindow\r\n\t\t\t.matchMedia('(prefers-color-scheme: dark)')\r\n\t\t\t.addEventListener('change', (event) => {\r\n\t\t\t\tconst newColorScheme = event.matches ? 'dark' : 'light';\r\n\t\t\t\tsetDarkMode(newColorScheme);\r\n\t\t\t});\r\n\t}, [setDarkMode]);\r\n\t\r\n\treturn (\r\n\t\t<button className={darkMode === 'dark' ? btnActive : btnNormal} onClick={toggleDarkMode}>\r\n\t\t\t<img src={sun} alt=\"Light mode\" className=\"dark-mode-btn__icon\" />\r\n\t\t\t<img src={moon} alt=\"Dark mode\" className=\"dark-mode-btn__icon\" />\r\n\t\t</button>\r\n\t);\r\n\r\n};\r\n\r\nexport default BtnDarkMode;\r\n"],"mappings":"4GAAA,OAASA,SAAS,KAAQ,OAAO,CACjC,OAAQC,eAAe,KAAO,4BAA4B,CAC1D,MAAO,CAAAC,cAAc,KAAM,2BAA2B,CAEtD,MAAO,CAAAC,GAAG,KAAM,wBAAwB,CACxC,MAAO,CAAAC,IAAI,KAAM,yBAAyB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE3C,GAAM,CAAAC,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAIC,KAAK,CAAK,CAC3B,IAAAC,gBAAA,CAAgCV,eAAe,CAAC,UAAU,CAAEC,cAAc,CAAC,CAAC,CAAC,CAAAU,iBAAA,CAAAC,cAAA,CAAAF,gBAAA,IAAtEG,QAAQ,CAAAF,iBAAA,IAAEG,WAAW,CAAAH,iBAAA,IAE/B;AACGZ,SAAS,CAAC,UAAM,CACZ,GAAIc,QAAQ,GAAK,MAAM,CAAE,CAC9BE,QAAQ,CAACC,IAAI,CAACC,SAAS,CAACC,GAAG,CAAC,MAAM,CAAC,CACpC,CAAC,IAAM,CACNH,QAAQ,CAACC,IAAI,CAACC,SAAS,CAACE,MAAM,CAAC,MAAM,CAAC,CACvC,CACD,CAAC,CAAE,CAACN,QAAQ,CAAC,CAAC,CAGd,GAAM,CAAAO,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAA,CAAS,CAC5BN,WAAW,CAAC,SAACO,YAAY,CAAK,CAE7B,MAAO,CAAAA,YAAY,GAAK,OAAO,CAAG,MAAM,CAAG,OAAO,CAEnD,CAAC,CAAC,CACH,CAAC,CAEE,GAAM,CAAAC,SAAS,CAAG,eAAe,CACjC,GAAM,CAAAC,SAAS,CAAG,qCAAqC,CAE1D;AACAxB,SAAS,CAAC,UAAM,CACfyB,MAAM,CACJC,UAAU,CAAC,8BAA8B,CAAC,CAC1CC,gBAAgB,CAAC,QAAQ,CAAE,SAACC,KAAK,CAAK,CACtC,GAAM,CAAAC,cAAc,CAAGD,KAAK,CAACE,OAAO,CAAG,MAAM,CAAG,OAAO,CACvDf,WAAW,CAACc,cAAc,CAAC,CAC5B,CAAC,CAAC,CACJ,CAAC,CAAE,CAACd,WAAW,CAAC,CAAC,CAEjB,mBACCP,KAAA,WAAQuB,SAAS,CAAEjB,QAAQ,GAAK,MAAM,CAAGU,SAAS,CAAGD,SAAU,CAACS,OAAO,CAAEX,cAAe,CAAAY,QAAA,eACvF3B,IAAA,QAAK4B,GAAG,CAAE/B,GAAI,CAACgC,GAAG,CAAC,YAAY,CAACJ,SAAS,CAAC,qBAAqB,CAAE,CAAC,cAClEzB,IAAA,QAAK4B,GAAG,CAAE9B,IAAK,CAAC+B,GAAG,CAAC,WAAW,CAACJ,SAAS,CAAC,qBAAqB,CAAE,CAAC,EAC3D,CAAC,CAGX,CAAC,CAED,cAAe,CAAAtB,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}